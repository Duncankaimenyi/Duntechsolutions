<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    /* ===== PROFESSIONAL CHATBOT STYLES ===== */
        :root {
            --primary: #4f46ef;
            --primary-dark: #4338ca;
            --primary-light: #6366f1;
            --secondary: #7c3aed;
            --accent: #4f46ef;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --light: #ffffff;
            --dark: #1f2937;
            --gray: #6b7280;
            --light-gray: #f3f4f6;
            --radius: 12px;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        
        /* Chatbot Container - RIGHT SIDE */
        .duntech-chatbot {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 99999;
        }
        
        /* Professional Toggle Button */
        .chatbot-toggle {
            width: 65px;
            height: 65px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow);
            border: 3px solid white;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
        }
        
        .chatbot-toggle:hover {
            transform: scale(1.1) translateY(-5px);
            box-shadow: 0 8px 30px rgba(79, 70, 239, 0.3);
        }
        
        .chatbot-toggle i {
            font-size: 26px;
            color: white;
            transition: transform 0.3s ease;
        }
        
        .chatbot-toggle.active i {
            transform: rotate(180deg);
        }
        
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--error);
            color: white;
            font-size: 12px;
            font-weight: 700;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 3px solid white;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        /* Professional Chat Window */
        .chatbot-window {
            position: absolute;
            bottom: 80px;
            right: 0;
            width: 380px;
            max-width: 90vw;
            height: 550px;
            max-height: 80vh;
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px) scale(0.95);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid var(--light-gray);
        }
        
        .chatbot-window.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0) scale(1);
        }
        
        /* Professional Header */
        .chatbot-header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 18px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-shrink: 0;
        }
        
        .chatbot-title {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .chatbot-avatar {
            width: 45px;
            height: 45px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            backdrop-filter: blur(10px);
        }
        
        .chatbot-info h3 {
            margin: 0;
            font-size: 16px;
            font-weight: 700;
        }
        
        .chatbot-info p {
            margin: 4px 0 0 0;
            font-size: 13px;
            opacity: 0.9;
        }
        
        .chatbot-actions {
            display: flex;
            gap: 10px;
        }
        
        .chatbot-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: none;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            font-size: 14px;
        }
        
        .chatbot-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(90deg);
        }
        
        /* Professional Messages */
        .chatbot-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: var(--light-gray);
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        /* Professional Message Styles */
        .message {
            max-width: 85%;
            padding: 14px 18px;
            border-radius: 18px;
            position: relative;
            animation: messageAppear 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            word-wrap: break-word;
            line-height: 1.5;
            font-size: 14px;
        }
        
        @keyframes messageAppear {
            from {
                opacity: 0;
                transform: translateY(15px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .message.bot {
            background: white;
            color: var(--dark);
            align-self: flex-start;
            border: 1px solid rgba(0, 0, 0, 0.08);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }
        
        .message.user {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            align-self: flex-end;
            box-shadow: 0 4px 15px rgba(79, 70, 239, 0.2);
        }
        
        .message-time {
            font-size: 11px;
            opacity: 0.7;
            margin-top: 5px;
            text-align: right;
        }
        
        /* Professional Quick Actions */
        .quick-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .quick-action {
            background: white;
            border: 2px solid var(--light-gray);
            border-radius: 20px;
            padding: 10px 18px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
        }
        
        .quick-action:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(79, 70, 239, 0.2);
        }
        
        .quick-action i {
            font-size: 12px;
        }
        
        /* Professional Service Cards */
        .service-cards {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-top: 15px;
        }
        
        .service-card {
            background: white;
            border: 2px solid var(--light-gray);
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        
        .service-card:hover {
            border-color: var(--primary);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(79, 70, 239, 0.1);
        }
        
        .service-card i {
            font-size: 24px;
            color: var(--primary);
            background: linear-gradient(135deg, rgba(79, 70, 239, 0.1), rgba(124, 58, 237, 0.1));
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .service-card span {
            font-size: 13px;
            font-weight: 600;
            color: var(--dark);
        }
        
        /* Professional Typing Indicator */
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 15px;
            background: white;
            border-radius: 18px;
            border: 1px solid rgba(0, 0, 0, 0.08);
            align-self: flex-start;
            width: fit-content;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--primary);
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }
        
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        
        @keyframes typing {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }
        
        /* Professional Chat Input */
        .chatbot-input-container {
            padding: 18px 20px;
            background: white;
            border-top: 1px solid var(--light-gray);
            display: flex;
            gap: 12px;
            align-items: center;
            flex-shrink: 0;
        }
        
        .chatbot-input {
            flex: 1;
            padding: 14px 18px;
            border: 2px solid var(--light-gray);
            border-radius: 25px;
            font-size: 14px;
            outline: none;
            transition: all 0.3s;
            background: var(--light-gray);
            font-family: inherit;
        }
        
        .chatbot-input:focus {
            border-color: var(--primary);
            background: white;
            box-shadow: 0 0 0 3px rgba(79, 70, 239, 0.1);
        }
        
        .chatbot-input::placeholder {
            color: var(--gray);
            opacity: 0.7;
        }
        
        .send-btn {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            flex-shrink: 0;
            font-size: 18px;
        }
        
        .send-btn:hover {
            transform: scale(1.1) rotate(15deg);
            box-shadow: 0 6px 20px rgba(79, 70, 239, 0.3);
        }
        
        .send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }
        
        /* Professional Welcome Message */
        .welcome-message {
            text-align: center;
            padding: 25px 20px;
            background: linear-gradient(135deg, rgba(79, 70, 239, 0.05), rgba(124, 58, 237, 0.05));
            border-radius: 12px;
            margin-bottom: 20px;
            border: 2px dashed rgba(79, 70, 239, 0.2);
            animation: fadeIn 0.6s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .welcome-message h4 {
            margin: 0 0 10px 0;
            color: var(--primary);
            font-size: 18px;
            font-weight: 700;
        }
        
        .welcome-message p {
            margin: 0;
            font-size: 14px;
            color: var(--gray);
            line-height: 1.6;
        }
        
        /* Professional Chat Footer */
        .chatbot-footer {
            padding: 15px 20px;
            font-size: 12px;
            color: var(--gray);
            text-align: center;
            border-top: 1px solid var(--light-gray);
            background: white;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .chatbot-footer span {
            opacity: 0.7;
        }
        
        .chatbot-footer i {
            color: var(--primary);
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .duntech-chatbot {
                bottom: 20px;
                right: 20px;
            }
            
            .chatbot-window {
                width: calc(100vw - 40px);
                height: 500px;
                right: 0;
            }
            
            .service-cards {
                grid-template-columns: 1fr;
            }
            
            .chatbot-toggle {
                width: 60px;
                height: 60px;
            }
            
            .chatbot-toggle i {
                font-size: 24px;
            }
        }
        
        @media (max-height: 600px) {
            .chatbot-window {
                height: 450px;
            }
        }
        
        /* Scrollbar Styling */
        .chatbot-messages::-webkit-scrollbar {
            width: 6px;
        }
        
        .chatbot-messages::-webkit-scrollbar-track {
            background: transparent;
        }
        
        .chatbot-messages::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.1);
            border-radius: 3px;
        }
        
        .chatbot-messages::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 0, 0, 0.2);
        }
        
        /* Loading Animation */
        .loader {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    
</style>

<body>
    <!-- chatbot -->
  <section class="chatbot">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Professional Chatbot Container -->
    <div class="duntech-chatbot" id="duntechChatbot">
        <!-- Chat Window -->
        <div class="chatbot-window" id="chatWindow">
            <!-- Header -->
            <div class="chatbot-header">
                <div class="chatbot-title">
                    <div class="chatbot-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="chatbot-info">
                        <h3>Duntech AI Assistant</h3>
                        <p>Professional ‚Ä¢ Online Now</p>
                    </div>
                </div>
                <div class="chatbot-actions">
                    <button class="chatbot-btn" id="minimizeBtn" title="Minimize">
                        <i class="fas fa-minus"></i>
                    </button>
                    <button class="chatbot-btn" id="closeBtn" title="Close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            
            <!-- Messages Container -->
            <div class="chatbot-messages" id="messagesContainer">
                <!-- Messages will be added here -->
            </div>
            
            <!-- Input Area -->
            <div class="chatbot-input-container">
                <input type="text" class="chatbot-input" id="chatInput" 
                       placeholder="Type your message here..." 
                       maxlength="500"
                       aria-label="Chat input">
                <button class="send-btn" id="sendBtn">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
            
            <!-- Footer -->
            <div class="chatbot-footer">
                <span><i class="fas fa-shield-alt"></i> Secure Connection</span>
                <span>Powered by Duntech AI</span>
                <span><i class="fas fa-clock"></i> 24/7</span>
            </div>
        </div>
        
        <!-- Toggle Button -->
        <div class="chatbot-toggle" id="chatToggle">
            <i class="fas fa-comments"></i>
            <div class="notification-badge" id="notificationBadge" style="display: none;">3</div>
        </div>
    </div>

</section>
     <script>
        // ============================================
        // PROFESSIONAL CHATBOT CONFIGURATION
        // ============================================
        const CONFIG = {
            company: "Duntech Solutions",
            botName: "Duntech AI Assistant",
            colors: {
                primary: "#4f46ef",
                secondary: "#7c3aed"
            },
            autoOpenDelay: 3000,
            typingSpeed: 20,
            responseDelay: 800,
            maxMessages: 100,
            notificationCount: 3,
            welcomeMessages: [
                "Hello! I'm your Duntech AI Assistant. üëã",
                "I can help you with information about our services, pricing, portfolio, or connect you with our expert team.",
                "What would you like to know today?"
            ]
        };

        // ============================================
        // COMPREHENSIVE KNOWLEDGE BASE
        // ============================================
        const KNOWLEDGE = {
            greetings: {
                patterns: ["hi", "hello", "hey", "good morning", "good afternoon", "good evening", "hi there"],
                response: "Hello there! üëã I'm your Duntech AI Assistant, ready to help you with all things digital solutions. How can I assist you today?",
                actions: ["Our Services", "Get a Quote", "View Portfolio", "Contact Team"]
            },
            
            services: {
                patterns: ["services", "what you do", "offerings", "help", "service", "what do you offer"],
                response: "**Duntech Solutions Services**\n\nWe provide comprehensive digital solutions across four key areas:\n\nüíª **Web Development**\n‚Ä¢ Custom Website Development\n‚Ä¢ E-commerce Solutions\n‚Ä¢ Web Applications\n‚Ä¢ CMS Development\n\nüé® **Graphics Design**\n‚Ä¢ Logo & Brand Identity\n‚Ä¢ UI/UX Design\n‚Ä¢ Marketing Materials\n‚Ä¢ Infographics\n\nüîí **Cyber Security**\n‚Ä¢ Security Audits & Assessments\n‚Ä¢ Penetration Testing\n‚Ä¢ Network Security\n‚Ä¢ 24/7 Monitoring\n\n‚ö° **Digital Solutions**\n‚Ä¢ Digital Strategy Consulting\n‚Ä¢ Automation Solutions\n‚Ä¢ Cloud Migration\n‚Ä¢ Analytics & Reporting\n\nWhich area interests you the most?",
                actions: ["Web Development", "Graphics Design", "Cyber Security", "Digital Solutions", "Pricing", "Portfolio"]
            },
            
            web: {
                patterns: ["web development", "website", "e-commerce", "web app", "react", "node", "frontend", "backend", "custom website"],
                response: "**Web Development Services**\n\n‚úÖ **What We Offer:**\n‚Ä¢ Custom Website Design & Development\n‚Ä¢ E-commerce Platforms\n‚Ä¢ Progressive Web Apps\n‚Ä¢ API Integration\n‚Ä¢ CMS Development\n‚Ä¢ Website Maintenance\n\nüõ†Ô∏è **Our Tech Stack:**\n‚Ä¢ React, Vue.js, Angular\n‚Ä¢ Node.js, Python, PHP\n‚Ä¢ MongoDB, PostgreSQL\n‚Ä¢ AWS, Google Cloud\n\nüí∞ **Starting Price:** $2,499\n‚è±Ô∏è **Average Timeline:** 4-8 weeks\n\nWould you like a customized quote or to see our web development portfolio?",
                actions: ["Get Web Quote", "View Web Portfolio", "Talk to Developer", "Back to Services"]
            },
            
            design: {
                patterns: ["design", "graphics", "logo", "branding", "ui/ux", "photoshop", "figma", "graphic design"],
                response: "**Graphics Design Services**\n\n‚úÖ **What We Offer:**\n‚Ä¢ Logo & Brand Identity Design\n‚Ä¢ UI/UX Design & Prototyping\n‚Ä¢ Marketing Collateral\n‚Ä¢ Infographics & Data Visualization\n‚Ä¢ Packaging Design\n‚Ä¢ Motion Graphics\n\nüé® **Our Tools:**\n‚Ä¢ Figma, Adobe XD\n‚Ä¢ Photoshop, Illustrator\n‚Ä¢ After Effects\n‚Ä¢ Blender (3D)\n\nüí∞ **Starting Price:** $1,499\n‚è±Ô∏è **Average Timeline:** 2-4 weeks\n\nReady to create something amazing together?",
                actions: ["Get Design Quote", "View Design Portfolio", "Talk to Designer", "Back to Services"]
            },
            
            security: {
                patterns: ["security", "cyber", "protection", "audit", "vulnerability", "hacking", "cybersecurity", "secure"],
                response: "**Cyber Security Services**\n\n‚úÖ **What We Offer:**\n‚Ä¢ Security Audits & Risk Assessments\n‚Ä¢ Penetration Testing\n‚Ä¢ Network Security Implementation\n‚Ä¢ Data Encryption Solutions\n‚Ä¢ Security Awareness Training\n‚Ä¢ 24/7 Incident Response\n\nüõ°Ô∏è **Our Expertise:**\n‚Ä¢ ISO 27001 Compliance\n‚Ä¢ GDPR & Privacy Regulations\n‚Ä¢ Cloud Security\n‚Ä¢ Endpoint Protection\n\nüí∞ **Starting Price:** $3,499\n‚è±Ô∏è **Immediate Response Available**\n\nSecurity is not an option, it's a necessity. How can we protect your business?",
                actions: ["Security Assessment", "Get Security Quote", "Emergency Contact", "Back to Services"]
            },
            
            digital: {
                patterns: ["digital", "strategy", "consulting", "automation", "cloud", "transformation", "digital solutions"],
                response: "**Digital Solutions**\n\n‚úÖ **What We Offer:**\n‚Ä¢ Digital Strategy Consulting\n‚Ä¢ Business Process Automation\n‚Ä¢ Cloud Migration & Management\n‚Ä¢ Data Analytics & Business Intelligence\n‚Ä¢ Digital Marketing Solutions\n‚Ä¢ Full Digital Transformation\n\nüöÄ **Our Approach:**\n1. Assessment & Planning\n2. Implementation\n3. Optimization\n4. Continuous Support\n\nüí∞ **Starting Price:** $4,999\n‚è±Ô∏è **Ong Partnership Model**\n\nLet's transform your business for the digital age.",
                actions: ["Digital Consultation", "Get Digital Quote", "View Case Studies", "Back to Services"]
            },
            
            pricing: {
                patterns: ["price", "cost", "how much", "pricing", "budget", "rates", "quote", "estimate"],
                response: "**Pricing Overview**\n\nüí∞ **Service Packages:**\n\n‚Ä¢ **Web Development**\n  Basic: $2,499 - $5,000\n  Standard: $5,000 - $15,000\n  Enterprise: $15,000+\n\n‚Ä¢ **Graphics Design**\n  Brand Package: $1,499 - $3,000\n  Full Campaign: $3,000 - $8,000\n  Ongoing Retainer: Custom\n\n‚Ä¢ **Cyber Security**\n  Basic Audit: $3,499 - $7,000\n  Comprehensive: $7,000 - $20,000\n  Managed Services: Monthly\n\n‚Ä¢ **Digital Solutions**\n  Strategy Session: $4,999\n  Implementation: $10,000 - $25,000\n  Full Transformation: $25,000+\n\n*All prices are estimates. Contact us for a detailed quote based on your specific requirements.*",
                actions: ["Web Quote", "Design Quote", "Security Quote", "Digital Quote", "Contact Sales"]
            },
            
            portfolio: {
                patterns: ["portfolio", "projects", "work", "examples", "case studies", "showcase", "previous work"],
                response: "**Our Portfolio Highlights**\n\nüèÜ **Recent Success Stories:**\n\n1. **TechGadgets E-commerce Platform**\n   ‚Üí 40% increase in sales\n   ‚Üí 2.5s average load time\n   ‚Üí Mobile-first responsive design\n\n2. **NovaTech Brand Redesign**\n   ‚Üí 65% boost in brand recognition\n   ‚Üí Complete brand identity system\n   ‚Üí Award-winning design\n\n3. **SecureBank Cybersecurity Overhaul**\n   ‚Üí 100% vulnerabilities identified and fixed\n   ‚Üí Zero security breaches post-implementation\n   ‚Üí ISO 27001 certification achieved\n\n4. **LogiFlow Supply Chain Automation**\n   ‚Üí 35% operational efficiency gain\n   ‚Üí $500K annual cost savings\n   ‚Üí Real-time analytics dashboard\n\nView our full portfolio: https://duntechsolutions.com/portfolio",
                actions: ["View Web Projects", "View Design Work", "View Security Cases", "Contact for Similar"]
            },
            
            contact: {
                patterns: ["contact", "call", "email", "meeting", "sales", "support", "talk", "reach", "phone", "address"],
                response: "**Contact Information**\n\nüìû **Phone:**\n‚Ä¢ Main: +1 (234) 567-8900\n‚Ä¢ Sales: +1 (234) 567-8901\n‚Ä¢ Support: +1 (234) 567-8902\n\nüìß **Email:**\n‚Ä¢ General: info@duntechsolutions.com\n‚Ä¢ Sales: sales@duntechsolutions.com\n‚Ä¢ Support: support@duntechsolutions.com\n\nüìç **Office Address:**\n123 Tech Street, Digital City\nTech Valley, TV 12345\nUnited States\n\nüïê **Business Hours:**\n‚Ä¢ Monday-Friday: 9:00 AM - 6:00 PM EST\n‚Ä¢ Saturday: 10:00 AM - 4:00 PM EST\n‚Ä¢ Sunday: Emergency Support Only\n‚Ä¢ 24/7 Support for Existing Clients\n\nHow would you like to connect with us?",
                actions: ["Schedule Call", "Send Email", "Live Chat", "Visit Office", "Quick Question"]
            },
            
            about: {
                patterns: ["about", "company", "who are you", "duntech", "team", "experience", "story", "mission"],
                response: "**About Duntech Solutions**\n\nüöÄ **Our Story:**\nFounded in 2018, Duntech Solutions started as a small web development agency and has grown into a full-service digital solutions provider. Our journey began with a simple mission: to make exceptional digital services accessible to businesses of all sizes.\n\nüë• **Our Team:**\n‚Ä¢ 32+ Digital Experts\n‚Ä¢ Average 7+ years industry experience\n‚Ä¢ Certified Professionals\n‚Ä¢ Continuous Learning Culture\n\nüìä **Our Track Record:**\n‚Ä¢ 250+ Projects Completed\n‚Ä¢ 98% Client Satisfaction Rate\n‚Ä¢ 40+ Returning Enterprise Clients\n‚Ä¢ 24/7 Support Availability\n\nüéØ **Our Mission:**\nTo empower businesses through innovative digital solutions that drive growth, enhance security, and create exceptional user experiences.\n\nWe're more than just a service provider - we're your digital transformation partner.",
                actions: ["Our Team", "Our Process", "Client Testimonials", "Contact Us"]
            },
            
            thanks: {
                patterns: ["thanks", "thank you", "thankyou", "appreciate", "grateful", "helpful"],
                response: "You're most welcome! üòä It's my pleasure to help. Is there anything else I can assist you with today?",
                actions: ["More Questions", "Contact Team", "All Done"]
            },
            
            goodbye: {
                patterns: ["bye", "goodbye", "see you", "farewell", "exit", "quit", "later"],
                response: "Goodbye and thank you for chatting with me! üëã Remember, we're always here to help transform your digital presence. Have a wonderful day!",
                actions: []
            },
            
            default: {
                response: "I understand you're looking for information. I specialize in helping with:\n\n‚Ä¢ **Digital Services** - Web development, design, security, digital solutions\n‚Ä¢ **Pricing & Quotes** - Custom estimates for your projects\n‚Ä¢ **Our Portfolio** - Case studies and success stories\n‚Ä¢ **Contact Information** - How to reach our team\n‚Ä¢ **About Us** - Our story and expertise\n\nWhat would you like to learn more about?",
                actions: ["Services", "Pricing", "Portfolio", "Contact", "About Us"]
            }
        };

        // ============================================
        // STATE MANAGEMENT
        // ============================================
        const state = {
            isOpen: false,
            isTyping: false,
            messageCount: 0,
            notificationCount: CONFIG.notificationCount,
            conversation: [],
            currentContext: null,
            typingTimeout: null
        };

        // ============================================
        // DOM ELEMENTS (initialized on DOMContentLoaded)
        // ============================================
        let elements = {};

        // ============================================
        // INITIALIZATION
        // ============================================
        function init() {
            try {
                // Load conversation history
                loadHistory();
                
                    // Initialize DOM element references
                    elements = {
                        chatWindow: document.getElementById('chatWindow'),
                        chatToggle: document.getElementById('chatToggle'),
                        messagesContainer: document.getElementById('messagesContainer'),
                        chatInput: document.getElementById('chatInput'),
                        sendBtn: document.getElementById('sendBtn'),
                        minimizeBtn: document.getElementById('minimizeBtn'),
                        closeBtn: document.getElementById('closeBtn'),
                        notificationBadge: document.getElementById('notificationBadge')
                    };

                    // Set up all event listeners
                    setupEventListeners();
                
                // Auto-open welcome after delay
                setTimeout(() => {
                    if (!state.isOpen && state.notificationCount > 0) {
                        showNotification();
                    }
                }, CONFIG.autoOpenDelay);
                
                // Show welcome if new conversation
                if (state.conversation.length === 0) {
                    setTimeout(showWelcomeMessage, 1000);
                } else {
                    renderConversation();
                }
                
                console.log('‚úÖ Duntech AI Assistant initialized successfully');
            } catch (error) {
                console.error('‚ùå Initialization error:', error);
            }
        }

        // ============================================
        // EVENT LISTENERS
        // ============================================
        function setupEventListeners() {
                // Toggle chat window
                if (elements.chatToggle) elements.chatToggle.addEventListener('click', toggleChat);

                // Minimize button
                if (elements.minimizeBtn) elements.minimizeBtn.addEventListener('click', toggleChat);

                // Close button
                if (elements.closeBtn) elements.closeBtn.addEventListener('click', closeChat);

                // Send message on button click
                if (elements.sendBtn) elements.sendBtn.addEventListener('click', sendMessage);

                // Send message on Enter key (with typing check)
                if (elements.chatInput) {
                    elements.chatInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter' && !state.isTyping) {
                            e.preventDefault();
                            sendMessage();
                        }
                    });

                    // Focus input when chat opens
                    elements.chatInput.addEventListener('focus', () => {
                        if (elements.chatWindow) elements.chatWindow.classList.add('active');
                    });
                }

                // Prevent rapid firing
                if (elements.sendBtn) elements.sendBtn.addEventListener('mousedown', (e) => { e.preventDefault(); });
        }

        // ============================================
        // CHAT CONTROLS
        // ============================================
        function toggleChat() {
            try {
                state.isOpen = !state.isOpen;
                elements.chatWindow.classList.toggle('active', state.isOpen);
                elements.chatToggle.classList.toggle('active', state.isOpen);
                
                if (state.isOpen) {
                    elements.chatInput.focus();
                    hideNotification();
                    scrollToBottom();
                    
                    // Auto-greet if first time opening
                    if (state.conversation.length === 0 && !state.hasGreeted) {
                        state.hasGreeted = true;
                        showWelcomeMessage();
                    }
                }
            } catch (error) {
                console.error('Toggle error:', error);
            }
        }

        function closeChat() {
            state.isOpen = false;
            elements.chatWindow.classList.remove('active');
            elements.chatToggle.classList.remove('active');
        }

        // ============================================
        // MESSAGE HANDLING
        // ============================================
        function sendMessage() {
            try {
                const text = elements.chatInput.value.trim();
                if (!text || state.isTyping) return;
                
                // Add user message
                addMessage(text, 'user');
                
                // Clear input
                elements.chatInput.value = '';
                
                // Process and respond
                setTimeout(() => {
                    processUserMessage(text.toLowerCase());
                }, CONFIG.responseDelay);
                
            } catch (error) {
                console.error('Send error:', error);
                showError("Sorry, I encountered an error. Please try again.");
            }
        }

        function addMessage(text, type, actions = null) {
            try {
                // Create message element
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${type}`;
                
                // Format text with markdown
                const formattedText = formatText(text);
                
                // Get current time
                const time = getCurrentTime();
                
                // Build message HTML
                messageDiv.innerHTML = `
                    ${formattedText}
                    <div class="message-time">${time}</div>
                `;
                
                // Add to messages container
                elements.messagesContainer.appendChild(messageDiv);
                
                // Add to conversation history
                state.conversation.push({
                    type,
                    text,
                    time,
                    actions,
                    timestamp: Date.now()
                });
                
                // Save to localStorage
                saveHistory();
                
                // Scroll to bottom
                scrollToBottom();
                
                return messageDiv;
            } catch (error) {
                console.error('Add message error:', error);
                return null;
            }
        }

        function showTypingIndicator() {
            if (state.isTyping) return null;
            
            state.isTyping = true;
            
            const typingDiv = document.createElement('div');
            typingDiv.className = 'typing-indicator';
            typingDiv.innerHTML = `
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            `;
            
            elements.messagesContainer.appendChild(typingDiv);
            scrollToBottom();
            
            return typingDiv;
        }

        function hideTypingIndicator(typingElement) {
            if (typingElement && typingElement.parentNode) {
                typingElement.remove();
            }
            state.isTyping = false;
        }

        // ============================================
        // USER INTERFACE COMPONENTS
        // ============================================
        function addQuickActions(actions, callback) {
            try {
                if (!actions || !Array.isArray(actions) || actions.length === 0) return;
                
                const actionsDiv = document.createElement('div');
                actionsDiv.className = 'quick-actions';
                
                actions.forEach(action => {
                    const button = document.createElement('button');
                    button.className = 'quick-action';
                    button.textContent = action;
                    button.addEventListener('click', () => {
                        if (typeof callback === 'function') {
                            callback(action);
                        }
                    });
                    actionsDiv.appendChild(button);
                });
                
                elements.messagesContainer.appendChild(actionsDiv);
                scrollToBottom();
            } catch (error) {
                console.error('Add actions error:', error);
            }
        }

        function addServiceCards() {
            try {
                const services = [
                    { icon: 'fa-laptop-code', label: 'Web Development', color: '#4f46ef' },
                    { icon: 'fa-paint-brush', label: 'Graphics Design', color: '#7c3aed' },
                    { icon: 'fa-shield-alt', label: 'Cyber Security', color: '#10b981' },
                    { icon: 'fa-lightbulb', label: 'Digital Solutions', color: '#f59e0b' }
                ];
                
                const cardsDiv = document.createElement('div');
                cardsDiv.className = 'service-cards';
                
                services.forEach(service => {
                    const card = document.createElement('div');
                    card.className = 'service-card';
                    card.innerHTML = `
                        <i class="fas ${service.icon}" style="color: ${service.color}"></i>
                        <span>${service.label}</span>
                    `;
                    card.addEventListener('click', () => {
                        handleQuickAction(service.label);
                    });
                    cardsDiv.appendChild(card);
                });
                
                elements.messagesContainer.appendChild(cardsDiv);
                scrollToBottom();
            } catch (error) {
                console.error('Service cards error:', error);
            }
        }

        // ============================================
        // MESSAGE PROCESSING
        // ============================================
        function processUserMessage(text) {
            try {
                // Show typing indicator
                const typingElement = showTypingIndicator();
                
                // Find matching response
                let response = KNOWLEDGE.default.response;
                let actions = KNOWLEDGE.default.actions;
                let matchedCategory = 'default';
                
                // Check all knowledge categories
                for (const [category, data] of Object.entries(KNOWLEDGE)) {
                    if (data.patterns && data.patterns.some(pattern => text.includes(pattern))) {
                        response = data.response;
                        actions = data.actions || [];
                        matchedCategory = category;
                        break;
                    }
                }
                
                // Set context for follow-up questions
                state.currentContext = matchedCategory;
                
                // Simulate typing delay
                const typingDelay = response.length * CONFIG.typingSpeed;
                
                clearTimeout(state.typingTimeout);
                state.typingTimeout = setTimeout(() => {
                    hideTypingIndicator(typingElement);
                    
                    // Add bot response
                    addMessage(response, 'bot');
                    
                    // Add quick actions if available
                    if (actions && actions.length > 0) {
                        setTimeout(() => {
                            addQuickActions(actions, handleQuickAction);
                        }, 300);
                    }
                    
                    // Add service cards for services response
                    if (matchedCategory === 'services') {
                        setTimeout(addServiceCards, 500);
                    }
                }, Math.min(typingDelay, 3000)); // Max 3 seconds typing
                
            } catch (error) {
                console.error('Process error:', error);
                showError("I'm having trouble understanding. Could you rephrase your question?");
            }
        }

        function handleQuickAction(action) {
            try {
                // Add user action as message
                addMessage(action, 'user');
                
                // Map actions to responses
                const actionMap = {
                    'Our Services': 'services',
                    'Get a Quote': 'pricing',
                    'Get Quote': 'pricing',
                    'View Portfolio': 'portfolio',
                    'Contact Team': 'contact',
                    'Web Development': 'web',
                    'Graphics Design': 'design',
                    'Cyber Security': 'security',
                    'Digital Solutions': 'digital',
                    'Pricing': 'pricing',
                    'Back to Services': 'services',
                    'Get Web Quote': 'web',
                    'Get Design Quote': 'design',
                    'Get Security Quote': 'security',
                    'Get Digital Quote': 'digital',
                    'View Web Portfolio': 'portfolio',
                    'View Design Portfolio': 'portfolio',
                    'View Security Cases': 'portfolio',
                    'Schedule Call': 'contact',
                    'Send Email': 'contact',
                    'About Us': 'about',
                    'Our Team': 'about',
                    'Our Process': 'about',
                    'Client Testimonials': 'about',
                    'More Questions': 'services',
                    'All Done': 'goodbye'
                };
                
                const context = actionMap[action] || action.toLowerCase();
                setTimeout(() => {
                    processUserMessage(context);
                }, CONFIG.responseDelay);
                
            } catch (error) {
                console.error('Quick action error:', error);
            }
        }

        // ============================================
        // UI FUNCTIONS
        // ============================================
        function showWelcomeMessage() {
            try {
                const welcomeDiv = document.createElement('div');
                welcomeDiv.className = 'welcome-message';
                welcomeDiv.innerHTML = `
                    <h4>üëã Welcome to Duntech Solutions!</h4>
                    <p>I'm your AI Assistant, here to help you explore our digital services, get pricing information, view our portfolio, or connect with our expert team. How can I assist you today?</p>
                `;
                elements.messagesContainer.appendChild(welcomeDiv);
                
                // Add initial quick actions
                setTimeout(() => {
                    addQuickActions(['Our Services', 'Get a Quote', 'View Portfolio', 'Contact Team'], handleQuickAction);
                }, 500);
                
            } catch (error) {
                console.error('Welcome error:', error);
            }
        }

        function showError(message) {
            try {
                const errorDiv = document.createElement('div');
                errorDiv.className = 'message bot';
                errorDiv.innerHTML = `
                    ‚ö†Ô∏è ${message}
                    <div class="message-time">${getCurrentTime()}</div>
                `;
                elements.messagesContainer.appendChild(errorDiv);
                scrollToBottom();
            } catch (error) {
                console.error('Error message error:', error);
            }
        }

        function showNotification() {
            if (state.notificationCount > 0) {
                elements.notificationBadge.textContent = state.notificationCount;
                elements.notificationBadge.style.display = 'flex';
            }
        }

        function hideNotification() {
            state.notificationCount = 0;
            elements.notificationBadge.style.display = 'none';
        }

        function scrollToBottom() {
            try {
                elements.messagesContainer.scrollTop = elements.messagesContainer.scrollHeight;
            } catch (error) {
                // Ignore scroll errors
            }
        }

        // ============================================
        // UTILITY FUNCTIONS
        // ============================================
        function formatText(text) {
            try {
                return text
                    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                    .replace(/\n/g, '<br>')
                    .replace(/üíª/g, 'üíª ')
                    .replace(/üé®/g, 'üé® ')
                    .replace(/üîí/g, 'üîí ')
                    .replace(/‚ö°/g, '‚ö° ')
                    .replace(/‚úÖ/g, '‚úÖ ')
                    .replace(/üõ†Ô∏è/g, 'üõ†Ô∏è ')
                    .replace(/üí∞/g, 'üí∞ ')
                    .replace(/‚è±Ô∏è/g, '‚è±Ô∏è ')
                    .replace(/üöÄ/g, 'üöÄ ')
                    .replace(/üõ°Ô∏è/g, 'üõ°Ô∏è ')
                    .replace(/üìû/g, 'üìû ')
                    .replace(/üìß/g, 'üìß ')
                    .replace(/üìç/g, 'üìç ')
                    .replace(/üïê/g, 'üïê ')
                    .replace(/üë•/g, 'üë• ')
                    .replace(/üìä/g, 'üìä ')
                    .replace(/üéØ/g, 'üéØ ')
                    .replace(/üèÜ/g, 'üèÜ ')
                    .replace(/‚Üí/g, '‚Üí ');
            } catch (error) {
                return text;
            }
        }

        function getCurrentTime() {
            const now = new Date();
            return now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        }

        function saveHistory() {
            try {
                // Keep only last 100 messages
                if (state.conversation.length > CONFIG.maxMessages) {
                    state.conversation = state.conversation.slice(-CONFIG.maxMessages);
                }
                
                localStorage.setItem('duntech_pro_chat', JSON.stringify({
                    conversation: state.conversation,
                    timestamp: Date.now(),
                    version: '2.0'
                }));
            } catch (error) {
                // Ignore storage errors
            }
        }

        function loadHistory() {
            try {
                const saved = localStorage.getItem('duntech_pro_chat');
                if (saved) {
                    const data = JSON.parse(saved);
                    // Load conversations from last 7 days only
                    if (Date.now() - data.timestamp < 7 * 24 * 60 * 60 * 1000) {
                        state.conversation = data.conversation || [];
                    }
                }
            } catch (error) {
                // Ignore load errors
            }
        }

        function renderConversation() {
            try {
                elements.messagesContainer.innerHTML = '';
                
                state.conversation.forEach(msg => {
                    const messageDiv = document.createElement('div');
                    messageDiv.className = `message ${msg.type}`;
                    messageDiv.innerHTML = `
                        ${formatText(msg.text)}
                        <div class="message-time">${msg.time}</div>
                    `;
                    elements.messagesContainer.appendChild(messageDiv);
                });
                
                scrollToBottom();
            } catch (error) {
                console.error('Render error:', error);
            }
        }

        function clearHistory() {
            state.conversation = [];
            elements.messagesContainer.innerHTML = '';
            localStorage.removeItem('duntech_pro_chat');
            showWelcomeMessage();
        }

        // ============================================
        // PUBLIC API FOR TESTING
        // ============================================
        window.duntechChatbot = {
            toggle: toggleChat,
            send: (text) => {
                if (text) {
                    addMessage(text, 'user');
                    setTimeout(() => processUserMessage(text.toLowerCase()), CONFIG.responseDelay);
                }
            },
            clear: clearHistory,
            test: (type = 'greeting') => {
                const testMessages = {
                    greeting: 'Hello',
                    services: 'What services do you offer?',
                    web: 'Tell me about web development',
                    pricing: 'How much does it cost?',
                    portfolio: 'Show me your portfolio',
                    contact: 'How can I contact you?',
                    about: 'Tell me about your company'
                };
                const message = testMessages[type] || 'Hello';
                window.duntechChatbot.send(message);
            }
        };

        // ============================================
        // INITIALIZE ON LOAD
        // ============================================
        document.addEventListener('DOMContentLoaded', init);

    </script>
</body>
</html>